<div class="form-container">
  <h2>Registro</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <!-- Usuario -->
    <div class="form-group">
      <label for="username">Nombre de usuario</label>
      <input id="username" type="text" formControlName="username" />
      @if (username?.touched && username?.invalid) {
        <p class="error">
          El nombre de usuario es obligatorio.
        </p>
      }
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">Correo electrónico</label>
      <input id="email" type="email" formControlName="email" />
      @if (email?.touched && email?.invalid) {
        <p class="error">
          Ingresa un correo válido.
        </p>
      }
    </div>

    <!-- Contraseña -->
    <div class="form-group">
      <label for="password">Contraseña</label>
      <input id="password" type="password" formControlName="password" />
      @if (password?.touched && password?.hasError('minlength')) {
        <p class="error">
          La contraseña debe tener al menos 6 caracteres.
        </p>
      }
      @if (password?.touched && password?.hasError('required')) {
        <p class="error">
          La contraseña es obligatoria.
        </p>
      }
    </div>

    <!-- Confirmar Contraseña -->
    <div class="form-group">
      <label for="confirmPassword">Confirmar Contraseña</label>
      <input id="confirmPassword" type="password" formControlName="confirmPassword" />
      @if (form.hasError('mismatch') && confirmPassword?.touched) {
        <p class="error">
          Las contraseñas no coinciden.
        </p>
      }
    </div>

    <!-- Rol -->
    <div class="form-group">
      <label for="role">Rol</label>
      <select id="role" formControlName="role">
        <option value="USER">Usuario</option>
        <option value="ADMIN">Administrador</option>
      </select>
    </div>

    <!-- Botón -->
    <button type="submit" [disabled]="form.invalid">Registrarse</button>
  </form>
</div>
